(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{197:function(t,e,o){var content=o(220);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(56).default)("76b587de",content,!0,{sourceMap:!1})},217:function(t,e,o){var n=o(2),r=o(218).entries;n({target:"Object",stat:!0},{entries:function(t){return r(t)}})},218:function(t,e,o){var n=o(11),r=o(59),c=o(22),l=o(88).f,d=function(t){return function(e){for(var o,d=c(e),h=r(d),f=h.length,i=0,v=[];f>i;)o=h[i++],n&&!l.call(d,o)||v.push(t?[o,d[o]]:d[o]);return v}};t.exports={entries:d(!0),values:d(!1)}},219:function(t,e,o){"use strict";o(197)},220:function(t,e,o){(e=o(55)(!1)).push([t.i,".container{margin:0 auto;min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.AppTitle{font-size:30px;margin-bottom:20px}.AppTitle a{text-decoration:none}#stockList{margin:0;padding:0;width:500px;box-sizing:border-box;border:1px solid #000;list-style:none}#stockList>li{height:40px;display:flex;list-style:none;border-bottom:1px solid grey}#stockList>li:last-child{border-bottom:0}#stockList>li>div{display:flex;padding:0 10px;align-items:center}#stockList>li>.title{flex:1}#stockList>li>.existing,#stockList>li>.touse{width:100px;justify-content:center}#stockList>li[rel=head]{background-color:#d3d3d3;font-weight:700}#stockList>li[rel=row]>.existing,#stockList>li[rel=row]>.touse{justify-content:flex-end}#stockList>li[rel=row]>.touse>input[type=number]{box-sizing:border-box;height:30px;width:100%}#stockList:not(.showToUse)>li>div.touse{display:none}.showToUseBox{margin:20px 0;width:500px;text-align:left}.form{width:500px;display:flex;justify-content:flex-end}.form>input{padding:0 10px;height:50px;width:200px}.form>button{margin-left:10px;width:100px}",""]),t.exports=e},222:function(t,e,o){"use strict";o.r(e);o(57),o(58),o(89),o(137),o(29),o(87),o(217),o(13),o(40),o(41),o(138),o(60),o(54);var n=o(198),r=o(187),c=o.n(r),l={name:"index",data:function(){return{stockList:[],touseList:{},showToUse:!1,user:null}},created:function(){this.getStockList()},methods:{getStockList:function(){var t=this;c.a.get("https://sheets.googleapis.com/v4/spreadsheets/1S3iYUo638NEz3cUXcFlWctLBnqC1FT-rAdoVg91e3FM/values/재고현황?key=AIzaSyAS7amO6h0t_fO1wvPOWQpvs7AX2z4rr6I").then((function(t){return t.data.values})).then((function(e){var o=Object(n.a)(e),r=(o[0],o.slice(1));t.stockList=r}))},inputTouseList:function(title,t){t&&0!==t&&""!==t?this.touseList[title]=parseInt(t,10)||void 0:this.touseList[title]&&delete this.touseList[title]},appendLog:function(t){var e=this,o="id_"+Date.now(),n=document.createElement("script");window.callback=function(){var t;return(t=console).log.apply(t,arguments)},window.jsonpLoaded=function(){return document.head.removeChild(n)},n.id=o,n.src="https://script.google.com/macros/s/AKfycbyHrqmT5deP6pprUS7wDlocGjjrL8v3FQGvjRkob5BAdEoNDXc/exec?method=updateStock&userdata="+encodeURIComponent(JSON.stringify(t))+"&v="+o,n.onload=function(){document.head.removeChild(document.querySelector("#".concat(o))),Array.from(e.$refs.stockList.querySelectorAll("input")).forEach((function(t){t.value=null})),e.getStockList()},document.head.appendChild(n)},submit:function(){if(!this.user&&""!==this.user)return alert("사용자를 입력해주세요."),void this.$refs.user.focus();this.appendLog({time:(new Date).toLocaleDateString(),user:this.user,use:Object.entries(this.touseList).filter((function(t){return t[1]&&0!==t[1]})).map((function(t){return[t[0].split("|")[0].slice(1),t[1]]})),useString:Object.entries(this.touseList).filter((function(t){return t[1]&&0!==t[1]})).map((function(t){return[t[0].split("|")[1],t[1]].join(" : ")+"개"})).join("   |   ")}),this.touseList={}}}},d=(o(219),o(26)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"AppTitle"},[t._v("🧴 LPP 재고관리 "),o("nuxt-link",{attrs:{to:"/log"}},[t._v("🛒")])],1),t._v(" "),o("ul",{ref:"stockList",class:{showToUse:t.showToUse},attrs:{id:"stockList"}},[t._m(0),t._v(" "),t._l(t.stockList,(function(e,n){return o("li",{attrs:{rel:"row"}},[o("div",{staticClass:"title"},[t._v(t._s(e[0]))]),t._v(" "),o("div",{staticClass:"existing"},[t._v(t._s(e[1]))]),t._v(" "),o("div",{staticClass:"touse"},[o("input",{attrs:{type:"number"},on:{input:function(o){t.inputTouseList("A"+(n+2)+"|"+e[0],o.target.value)}}})])])}))],2),t._v(" "),o("div",{staticClass:"showToUseBox"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.showToUse,expression:"showToUse"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showToUse)?t._i(t.showToUse,null)>-1:t.showToUse},on:{change:function(e){var o=t.showToUse,n=e.target,r=!!n.checked;if(Array.isArray(o)){var c=t._i(o,null);n.checked?c<0&&(t.showToUse=o.concat([null])):c>-1&&(t.showToUse=o.slice(0,c).concat(o.slice(c+1)))}else t.showToUse=r}}}),t._v("\n      재고물품 사용\n    ")])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showToUse,expression:"showToUse"}],staticClass:"form"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],ref:"user",attrs:{type:"text",placeholder:"사용자 (ex, 교육부 홍길동)"},domProps:{value:t.user},on:{input:function(e){e.target.composing||(t.user=e.target.value)}}}),t._v(" "),o("button",{on:{click:t.submit}},[t._v("사용합니다")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{attrs:{rel:"head"}},[e("div",{staticClass:"title"},[this._v("물품명")]),this._v(" "),e("div",{staticClass:"existing"},[this._v("개수")]),this._v(" "),e("div",{staticClass:"touse"},[this._v("사용")])])}],!1,null,null,null);e.default=component.exports}}]);